# 测试与安全
## 安全
[【我们开发中常常忽视的安全问题】](https://www.cnblogs.com/jian0110/p/11125580.html)
### 攻击技术 - cyc2018大佬
#### 1. 跨站脚本攻击XSS
```markdown
跨站脚本攻击（Cross-Site Scripting, XSS），可以将代码注入到用户浏览的网页上，这种代码包括HTML和JavaScript。
危害:
    窃取用户的 Cookie
    伪造虚假的输入表单骗取个人信息
    显示伪造的文章或者图片
防范手段:
    1. 设置Cookie为HttpOnly
        设置了HttpOnly的Cookie可以防止JavaScript脚本调用，就无法通过document.cookie获取用户Cookie信息。
    2. 过滤特殊字符
        例如将< 转义为 &lt; ，将 > 转义为 &gt;从而避免HTML和Jascript代码的运行。
```
#### 2. 跨站请求伪造CSRF
```markdown
跨站请求伪造（Cross-site request forgery,CSRF），是攻击者通过一些技术手段欺骗用户的浏览器去访问一个自己曾经认证过的网站并执行
一些操作（如发邮件，发消息，甚至财产操作如转账和购买商品）。由于浏览器曾经认证过，所以被访问的网站会认为是真正的用户操作而去执行。
XSS 利用的是用户对指定网站的信任，CSRF 利用的是网站对用户浏览器的信任。
防范手段:    
    1. 检查Referer首部字段
    2. 添加校验Token
    3. 输入验证码
```
#### 3. SQL注入攻击
```markdown
服务器上的数据库运行非法的SQL语句，主要通过拼接来完成。SQL注入（SQLi）是一种注入攻击，它通过将任意SQL代码插入数据库查询，使攻击者能
够完全控制Web应用程序后面的数据库服务器。攻击者可以使用SQL注入漏洞绕过应用程序安全措施；可以绕过网页或Web应用程序的身份验证和授权，
并检索整个SQL数据库的内容；还可以使用SQL注入来添加，修改和删除数据库中的记录。
 带内注入：依赖于攻击者修改应用程序发送的SQL，以及浏览器中显示的错误和返回的信息。
 盲注入：推理SQL注入（根据：HTTP响应中的详细信息，某些用户输入的空白网页以及数据库响应某些用户输入需要多长时间）
 带外注入：攻击者会制作SQL语句，这些语句在呈现给数据库时会触发数据库系统创建与攻击者控制的外部服务器的连接。
预防SQL注入：
     不要使用动态SQL
     不要将敏感数据保留在纯文本中
     限制数据库权限和特权
     避免直接向用户显示数据库错误
     对访问数据库的 Web 应用程序使用 Web 应用程序防火墙（WAF）
     将数据库更新为最新的可用修补程序
```
#### 4. 拒绝服务攻击DOS/DDOS
```markdown
拒绝服务攻击（denial-of-service attack，DoS），亦称洪水攻击，
其目的在于使目标电脑的网络或系统资源耗尽，使服务暂时中断或停止，导致其正常用户无法访问。
分布式拒绝服务攻击（distributed denial-of-service attack，DDoS），
指攻击者使用两个或以上被攻陷的电脑作为“僵尸”向特定的目标发动“拒绝服务”式攻击。
```
#### [谈谈国外网络干扰那些事](https://www.cnblogs.com/WoodJim/p/9941583.html)
```markdown
遇到的网络干扰（封禁）主要有以下几种手段：
- DNS 劫持（污染）；
    DNS劫持（污染）是指一些刻意制造或无意中制造出来的域名服务器数据包，把域名指向不正确的IP地址（或运营商自己的IP地址),如把某应用的域名解析为:127.0.0.1的本地地址。
    对应的解决办法只有自己去做 DNS的解析，基于这一点可以变化出几种策略：
        自建DNS解析服务器，应用内的dns解析请求都发到自己服务器去处理；
        应用内维持一份域名跟对应服务器IP的映射，定时更新客户端保持的域名跟IP的配置；
        直接通过IP访问（这基本不现实);
    在具体的实践过程中，可以根据应用的特点，将这几种策略进行组合，在不同的场景下选择不同的策略，如发现服务器访问不了时，先采用配置里的Ip进行访问等等；
- 域名 封禁；
    域名封禁是指封锁掉某个应用服务器的访问，一般是通过查看http请求头里的 host字段是否是要封禁的域名； 
    还有一种方式运营商把所有的域名都解析到自己的机房里，然后在自有机房去通过某种策略来决定是否让这个请求继续
- IP 封禁；
    IP封禁是指访问某个服务器的请求没有办法正常获得响应； 不管是 HTTP(s)请求还是TCP(UDP)请求都需要有一个目标地址（IP），
    当运营商检测到目标地址是需要封禁时，可以直接让请求超时或者没有办法获得响应等；
- 基于深度包检测技术的封禁；
    深度包检测 主要是通过检测数据包中的数据部分的特殊来匹配特定协议或某种应用的特征，然后决定是否可以路由到其他地方，
    深度包检测一般是针对TCP(UDP)这种，下面的讨论也是针对TCP在进行的；
        - http伪装
        - 加密&随机化
        
```

[AES加密算法及Java实现](https://www.cnblogs.com/mx-lqk/p/10285379.html)

## 加密
[Java加密与安全](https://www.cnblogs.com/reminis/p/13264132.html)

## 测试
[测试- 就从这儿起步](https://www.cnblogs.com/gxunique/p/10983460.html)

[JUnit源码分析 - 扩展 - 自定义RunListener](https://www.cnblogs.com/coolstream/p/9756336.html)

[JUnit源码分析 - 扩展 - 自定义Rule](https://www.cnblogs.com/coolstream/p/9756334.html)

### 单元测试
[优秀程序员20%的时间都在写单元测试？](https://mp.weixin.qq.com/s?__biz=MzIxMjE5MTE1Nw==&mid=2653198886&idx=2&sn=25262040afc8fa3ac85d1525991e4a44&chksm=8c99e8fcbbee61ea98d52acc87981e3e0a7433a29351c599769f8b41c94843edd544ad67832a&mpshare=1&scene=23&srcid=#rd)
[单元测试，只是测试吗？](https://mp.weixin.qq.com/s?__biz=MzIzOTU0NTQ0MA==&mid=2247498692&idx=1&sn=8cb2e9009c1ec554608ffd27c02da74d&chksm=e92ac6cbde5d4fdd1a8a23d0223d84d6752efbd379d163ace1ffce0150e7989cb67d1f608045&mpshare=1&scene=23&srcid=08183PLhoVzIH29jhMvYeW9v&sharer_sharetime=1597712352333&sharer_shareid=d812adcc01829f0f7f8fb06aea118511#rd)
[单元测试实战（四种覆盖详解、测试实例）](https://www.cnblogs.com/csonezp/p/11757967.html) 
[使用 Junit + Mockito 实践单元测试](https://www.cnblogs.com/jmcui/p/12802099.html)
[一文让你快速上手 Mockito 单元测试框架](https://www.cnblogs.com/mghio/p/12996447.html)
[Springboot集成JUnit5优雅进行单元测试](https://www.cnblogs.com/haixiang/p/13812363.html)
#### 1.单元测试定义
```markdown
单元测试（unit testing），指由开发人员对软件中的最小可测试单元进行检查和验证。对于单元测试中单元的含义，一般来说，要根据实际情况去判定其具体含义，
如C语言中单元指一个函数，Java里单元指一个类，图形化的软件中可以指一个窗口或一个菜单等。
总的来说，单元就是人为规定的最小的被测功能模块。单元测试是在软件开发过程中要进行的最低级别的测试活动，软件的独立单元将在与程序的其他部分相隔离的情况下进行测试。
```
#### 2.为什么要写单测？
```markdown
1.异常场景
2.单元测试优点
    提高代码正确性
        流程判读符合预期，按照步骤运行，逻辑正确。
        执行结果符合预期，代码执行后，结果正确。
        异常输出符合预期，执行异常或者错误，超越程序边界，保护自身。
        代码质量符合预期，效率，响应时间，资源消耗等。
    发现设计问题
        代码可测性差
        方法封装不合理
        流程不合理
        设计漏洞等
    提升代码可读性
        易写单测的方法一定是简单好理解的，可读性是高的，反之难写的单测代码是复杂的，可读性差的。
    顺便微重构
        如设计不合理可微重构，保证代码的可读性以及健壮性。
    提升开发人员自信心
        经过单元测试，能让程序员对自己的代码质量更有信心，对实现方式记忆更深。
    启动速度，提升效率
        不用重复启动Pandora容器，浪费大量时间在容器启动上，方便逻辑验证。
    场景保存（多场景）
        在HSF控制台中只能保存一套参数，而单测可保存多套参数，覆盖各个场景，多条分支，就是一个个测试用例。
```
#### 3.JUnit5单元测试
[单元测试框架怎么搭？快来看看新版Junit5的这些神奇之处吧！](https://www.cnblogs.com/javazhiyin/p/13753042.html)
```markdown
为什么使用JUnit5
    JUnit4被广泛使用，但是许多场景下使用起来语法较为繁琐，JUnit5中支持lambda表达式，语法简单且代码不冗余。
    JUnit5易扩展，包容性强，可以接入其他的测试引擎。
    功能更强大提供了新的断言机制、参数化测试、重复性测试等新功能。
    ps：开发人员为什么还要测试，单测写这么规范有必要吗？其实单测是开发人员必备技能，只不过很多开发人员开发任务太重导致调试完就不管了，
        没有系统化得单元测试，单元测试在系统重构时能发挥巨大的作用，可以在重构后快速测试新的接口是否与重构前有出入。
JUnit5结构如下：
    JUnit Platform： 这是Junit提供的平台功能模块，通过它，其它的测试引擎都可以接入Junit实现接口和执行。
    JUnit JUpiter：这是JUnit5的核心，是一个基于JUnit Platform的引擎实现，它包含许多丰富的新特性来使得自动化测试更加方便和强大。
    JUnit Vintage：这个模块是兼容JUnit3、JUnit4版本的测试引擎，使得旧版本的自动化测试也可以在JUnit5下正常运行。
常用注解
    @BeforeEach：在每个单元测试方法执行前都执行一遍
    @BeforeAll：在每个单元测试方法执行前执行一遍（只执行一次）
    @DisplayName("商品入库测试")：用于指定单元测试的名称
    @Disabled：当前单元测试置为无效，即单元测试时跳过该测试
    @RepeatedTest(n)：重复性测试，即执行n次
    @ParameterizedTest：参数化测试，
    @ValueSource(ints = {1, 2, 3})：参数化测试提供数据
断言
    JUnit Jupiter提供了强大的断言方法用以验证结果，在使用时需要借助java8的新特性lambda表达式，均是来自org.junit.jupiter.api.Assertions包的static方法。
重复性测试
    在许多场景中我们需要对同一个接口方法进行重复测试，例如对幂等性接口的测试。
    JUnit Jupiter通过使用@RepeatedTest(n)指定需要重复的次数
参数化测试
    参数化测试可以按照多个参数分别运行多次单元测试这里有点类似于重复性测试，只不过每次运行传入的参数不用。需要使用到@ParameterizedTest，同时也需要@ValueSource提供一组数据，它支持八种基本类型以及String和自定义对象类型，使用极其方便。    
内嵌测试
    JUnit5提供了嵌套单元测试的功能，可以更好展示测试类之间的业务逻辑关系，我们通常是一个业务对应一个测试类，有业务关系的类其实可以写在一起。这样有利于进行测试。而且内联的写法可以大大减少不必要的类，精简项目，防止类爆炸等一系列问题。   
```
### 自动化测试
[Postman+Newman+Git+Jenkins接口自动化测试](https://www.cnblogs.com/wuweiblogs/p/13024263.html)
### 性能测试
[性能测试必备知识](https://www.cnblogs.com/poloyy/category/1806772.html)

### 测试相关工具
[随笔分类 - JMeter](https://www.cnblogs.com/du-hong/category/1149349.html)
[随笔分类 - 测试高级进阶技能系列 - Jmeter](https://www.cnblogs.com/poloyy/category/1746599.html)

[我是如何用IDEA调试BUG的？](https://www.cnblogs.com/coderxx/p/12597824.html)
[写自定义参数验证方式](https://www.cnblogs.com/wangrudong003/p/11966755.html)
[UCloud 云服务内容审核 Java 版本实现](https://www.cnblogs.com/smallSevens/p/11957664.html)

[JMH-大厂是如何使用JMH进行Java代码性能测试的？必须掌握！](https://www.cnblogs.com/niumoo/p/13557754.html)
[JMH--一款由OpenJDK开发的基准测试工具](https://www.cnblogs.com/ZhangZiSheng001/p/13581390.html)

## 运维

## 加密
[面试官：说一下你常用的加密算法](https://www.cnblogs.com/zhixie/p/13407823.html)