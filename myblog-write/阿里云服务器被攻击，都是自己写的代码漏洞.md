# 阿里云服务器被攻击，因为自己写的代码有漏洞

[阿里云高校计划](https://developer.aliyun.com/adc/student/?spm=a2c6h.19776329.J_3574106040.1.69523d80v5tVl9)
上面免费领了一台免费的ECS，配置还可以2核4G。开始愉快的安装使用。

![image-20201214175638457](https://raw.githubusercontent.com/peng4444/picgo/main/img/20201214175645.png)

- 1.JDK1.8.191在/usr/local/software/目录下并且安装配置环境变量。[参考资料：Centos7安装JDK8以及环境配置](https://blog.csdn.net/pang_ping/article/details/80570011)
- 2.安装docker  [参考资料：Docker CentOS安装](https://www.funtl.com/zh/docs-docker/CentOS-%E5%AE%89%E8%A3%85-Docker.html#%E4%BD%BF%E7%94%A8-yum-%E5%AE%89%E8%A3%85)
- 3.安装redis单机服务，端口6379 [参考资料：Linux安装Redis-6.0.6](https://blog.csdn.net/Mr_YeShaoFei/article/details/107686607)
- 4.docker搭建redis集群 [使用redis-cli命令搭建标准6节点Redis集群(docker)](https://www.cnblogs.com/slowbirdoflsh/p/11636120.html)
- 5.docker安装mysql单机服务 [docker安装mysql5.7](https://blog.csdn.net/weixin_40461281/article/details/92610876)

然后愉快的的写代码，看我一上午就写(Ctrl+C & Ctrl+V)这么多代码，然后想着这么多代码先保存一下

![image-20201214180300310](https://raw.githubusercontent.com/peng4444/picgo/main/img/20201214180300.png)

下午14:01提交代码，14:09:01手机短信，邮箱，系统消息提醒恶意脚本代码执行

![image-20201214181206110](https://raw.githubusercontent.com/peng4444/picgo/main/img/20201214181206.png)


一想肯定是提交代码的mysql和redis配置文件里面有公网IP，用户名密码。

代码提交到GitHub上就被一些黑客扫描到进行应用端口攻击。

然后服务器就一直内存CPU爆满

![image-20201214181750447](https://raw.githubusercontent.com/peng4444/picgo/main/img/20201214181750.png)

top一波

![image-20201214181944409](https://raw.githubusercontent.com/peng4444/picgo/main/img/20201214181944.png)

一直也没有出现内存和CPU占用比较高的进程出现。

Google一波没找到什么好的解决办法。

根据这位大神的做法[记：解决阿里云服务器挖矿程序恶意进程](https://blog.csdn.net/weixin_44901564/article/details/109294680)


